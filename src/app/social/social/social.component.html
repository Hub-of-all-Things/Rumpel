<!--
  ~ Copyright (C) 2017 HAT Data Exchange Ltd - All Rights Reserved
  ~ This Source Code Form is subject to the terms of the Mozilla Public
  ~ License, v. 2.0. If a copy of the MPL was not distributed with this
  ~ file, You can obtain one at http://mozilla.org/MPL/2.0/.
  ~ Written by Augustinas Markevicius <augustinas.markevicius@hatdex.org> 1, 2017
  -->

<div class="row content-bg content-header">
  <div class="col-md-12">
    <rum-page-header title="Social feed" tooltipContent="What happened on social media recently? See all your recent activity in one convenient place."></rum-page-header>
  </div>
</div>

<div class="row content-bg">
  <div class="col-md-10 col-md-offset-1">
    <div class="filter-header">
      <div class="filter" [class.on]="filter === ''" (click)="filterBy('')">
        <i class="material-icons">folder</i>
        All
      </div>
      <div class="filter" [class.on]="filter === 'Facebook'" (click)="filterBy('Facebook')">
        <i class="material-icons">message</i>
        Facebook
      </div>
      <div class="filter" [class.on]="filter === 'Twitter'" (click)="filterBy('Twitter')">
        <i class="material-icons">message</i>
        Twitter
      </div>
    </div>

    <ul class="feed bulletless-list">
      <li *ngFor="let post of feed$ | async | filterBy:'type':filterMap[filter]" class="post">
        <a id="{{post.data.id}}"></a>
        <rum-fb-post [post]="post.data" *ngIf="post.data.type !== 'tweet'"></rum-fb-post>
        <rum-tweet [tweet]="post.data" *ngIf="post.data.type === 'tweet'"></rum-tweet>
      </li>
    </ul>
  </div>
</div>
