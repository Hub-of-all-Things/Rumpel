<!--
  ~ Copyright (C) 2016 HAT Data Exchange Ltd - All Rights Reserved
  ~ This Source Code Form is subject to the terms of the Mozilla Public
  ~ License, v. 2.0. If a copy of the MPL was not distributed with this
  ~ file, You can obtain one at http://mozilla.org/MPL/2.0/.
  ~ Written by Augustinas Markevicius <augustinas.markevicius@hatdex.org> 2016
  -->

<div class="burger" (click)="animateMenu()"
  data-toggle="popover" data-container=".navbar"
   data-content="Menu"
   data-trigger="hover"
   (mouseover)="showPopover()">
  <i class="material-icons">menu</i>
</div>

<div class="menu-scroll">

    <ul class="center" id="intro-step1">
      <li *ngFor="let item of menu; let i = index"
          [class.selected]="selectedItem.indexOf(item.link) !== -1">
        <div class="wrapper" id="intro-step{{i + 3}}">
          <a [routerLink]="[item.link]" (click)="closeMenu()"
            data-toggle="popover" data-container=".menubar-left"
             [attr.data-content]="item.description"
             data-trigger="hover"
             data-delay='{"show": "500", "hide": "100"}'
             (mouseover)="showPopover()">
            <div class="icon"><i class="material-icons">{{item.icon}}</i></div>
            {{item.display}}
            <span class="badge" *ngIf="item.display === 'Redeem offers' && availableOffers > 0">{{ availableOffers }}</span>
          </a>
        </div>
      </li>
    </ul>

    <div *ngIf="userAuthenticated">
        <h6 class="data-plugs-title">Add data plugs</h6>
        <ul class="center plug-menu">
          <li *ngFor="let item of dataplugList; let i = index" class="data-plugs-list" [class.hidden]="item.activated" >
            <div class="wrapper">
              <a (click)="openPlugPopup(item); closeMenu();" class="sidebar-pop" data-toggle="popover" data-container=".menubar-left"
                 [attr.data-content]="item.description"
                 data-trigger="hover"
                 (mouseover)="showPopover()">
                <div class="icon icon-grey"><img [src]="'assets/icons/grey-' + item.icon" /></div>
                <div class="icon icon-color"><img [src]="'assets/icons/' + item.icon" /></div>
                {{item.name}}
                <span class="plus-icon"><i class="material-icons">control_point</i></span>
              </a>
            </div>
          </li>
        </ul>
          <ul class="center" >
          <li class="data-plugs-more">
            <div class="wrapper">
              <a [routerLink]="['dataplugs']">
                <div class="icon"><i class="material-icons">more_horiz</i></div>
                <em>More</em>
              </a>
            </div>
          </li>
        </ul>
  </div>

</div>


<div class="poweredBy">
  <img src="assets/icons/rumpel-plug.svg" class="img img-responsive">
  <p>Dashboard by Rumpel</p>
</div>
