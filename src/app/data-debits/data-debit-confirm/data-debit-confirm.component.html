<div class="row">
  <div class="col-xs-10 col-xs-offset-1">
    <div class="offer">
      <div class="offer-title">
        <h2 class="text-center">{{dataDebit?.name}}</h2>
        <div class="offer-reward text-center">
          Price: {{dataDebit?.price}}
        </div>
        <div class="offer-description text-center">
          Valid until: {{dataDebit?.endDate | moment:'DD/MM/YYYY, dddd, hh:mm a'}}</div>
      </div>
      <div class="offer-dialog text-center" *ngIf="!ddConfirmed">
        <button class="btn btn-rump btn-accept"
                (click)="acceptDataDebit()">Accept Offer</button>
        <button class="btn btn-rump"
                (click)="rejectDataDebit()">Cancel</button>
      </div>
      <div class="alert-message text-center">
        <div class="message" *ngIf="!ddConfirmed">
          <span class="icon-alert ss-alert ss-glyphish-filled"></span>
          Last chance to review the data being released before accepting offer.
        </div>
        <div class="message" *ngIf="ddConfirmed">
          <span class="icon-alert accepted ss-info ss-glyphish-filled"></span>
          This data debit has already been confirmed. The information that was transferred can be reviewed below.
        </div>
      </div>
    </div>
    <div class="row" *ngIf="dataDebit">
      <div class="col-lg-6 col-lg-offset-3 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1 debit-review">
        <div class="panel panel-rump" *ngFor="let source of dataDebit.dataToShare">
          <div class="panel-heading">{{source.name.charAt(0).toUpperCase() + source.name.slice(1)}}</div>
          <div class="panel-body">
            <section *ngFor="let table of source.data">
              <h4>{{table.name.charAt(0).toUpperCase() + table.name.slice(1)}}</h4>

              <tree-view [treeNodes]="table.data[0] | withObject"
                         [offset]="0"></tree-view>
            </section>
          </div>
        </div>
      </div>
     <!--  <div class="col-md-6 offer-terms">
        <div class="panel panel-rump">
          <div class="panel-heading">Terms of Offer</div>
          <div class="panel-body">
            <h3>{{offerInfo.offer.title}}</h3>
            <h5>Contact Information</h5>
            <p>{{offerInfo.owner.firstName + ' ' + offerInfo.owner.lastName}}</p>
            <p>E-mail: {{offerInfo.owner.email}}</p>
            <h5>Validity</h5>
            <p>The offer is running from {{offerInfo.offer.starts | moment:'Do MMM, YYYY'}} to {{offerInfo.offer.expires | moment:'Do MMM, YYYY'}}.</p>
            <h5>Data sources required for the offer</h5>
            <ul>
              <li *ngFor="let set of offerInfo.offer.dataRequest.definition">{{set.source}}</li>
            </ul>
          </div>
        </div>
      </div> -->
    </div>
  </div>
</div>
