<!--
  ~ Copyright (C) 2016 HAT Data Exchange Ltd - All Rights Reserved
  ~ This Source Code Form is subject to the terms of the Mozilla Public
  ~ License, v. 2.0. If a copy of the MPL was not distributed with this
  ~ file, You can obtain one at http://mozilla.org/MPL/2.0/.
  ~ Written by Augustinas Markevicius <augustinas.markevicius@hatdex.org> 2016
  -->

<div class="row">
  <div class="col-md-12 mixpad">
    <div class="view-body">
      <div class="loading-overlay" *ngIf="loading && hasLocationData">
        <rum-spinner [isRunning]="true"></rum-spinner>
        <span>Loading more data...</span>
      </div>

      <div class="timeline-view">

      <rum-map class="map"
                [dataPoints]="locations[selectedTime]"
                [mapHeight]="safeSize"
                (timeSelected)="selectTime($event)"
                [locationDate]="selectedTime"></rum-map>

      <rum-activity-list class="activitylist"
                         [componentHeight]="safeSizeSidebar"
                         [cards]="cardList"
                         [selectedDate]="selectedTime"
                         (timeSelected)="selectTime($event)"
                         (notifyDatesInRange)="getDatesInRange($event)"></rum-activity-list>
      </div>
    </div>
  </div>
</div>
