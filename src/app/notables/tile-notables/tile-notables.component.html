<!--
  ~ Copyright (C) 2016 HAT Data Exchange Ltd - All Rights Reserved
  ~ This Source Code Form is subject to the terms of the Mozilla Public
  ~ License, v. 2.0. If a copy of the MPL was not distributed with this
  ~ file, You can obtain one at http://mozilla.org/MPL/2.0/.
  ~ Written by Augustinas Markevicius <augustinas.markevicius@hatdex.org> 2016
  -->

<ng-content></ng-content>

<div class="scroll-mask" id="intro-step14">


  <div class="content tile-body no-padding">
    <rum-input-box [profile]="profile" class="notable-input">
      <img style="max-height: 4.5em; margin: 1em; border-radius: 50%;" [src]="profile?.photo.url || '/assets/images/user-icon-white.svg'">
    </rum-input-box>

    <ul class="note-list bulletless-list">
      <li *ngFor="let notable of notables$ | async; let i = index" class="notable">
        <div class="item-header" *ngIf="i == 0">
          <div class="user-photo">
            <img [src]="notable.data.authorv1 && notable.data.authorv1['photo_url'] ? notable.data.authorv1['photo_url'] : '/assets/images/user-icon-black.svg'">
          </div>

          <div class="notable-type">
            <span class="ss-maplocation" *ngIf="notable.data.locationv1"></span>
            <span class="ss-{{iconMap[notable.data.kind]}}"></span>
          </div>
          <div class="header-content">
            <h5>{{notable.data.authorv1 ? notable.data.authorv1.phata : ''}}</h5>
            <span>Logged {{notable.data.created_time | moment}}</span>
            &nbsp;&#9679;&nbsp;
            <span>{{notable.data.isShared ? 'SHARED' : 'PRIVATE'}}</span>
          </div>
        </div>

        <div class="notable-content" *ngIf="i == 0" [innerHTML]="notable.data.message | markdownToHtml"></div>
        <!-- <div class="location" *ngIf="note.location">Location: {{note.location.latitude}} : {{note.location.longitude}}</div> -->
      </li>
    </ul>
  </div>
</div>
