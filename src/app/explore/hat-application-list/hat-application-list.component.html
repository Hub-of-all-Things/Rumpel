<!--
  ~ Copyright (C) 2017 HAT Data Exchange Ltd - All Rights Reserved
  ~ This Source Code Form is subject to the terms of the Mozilla Public
  ~ License, v. 2.0. If a copy of the MPL was not distributed with this
  ~ file, You can obtain one at http://mozilla.org/MPL/2.0/.
  ~ Written by Augustinas Markevicius <augustinas.markevicius@hatdex.org> 4, 2017
  -->

<div class="app-page-header">
  <mat-toolbar>
    <h2 class="app-page-heading">HAT Applications</h2>
  </mat-toolbar>
  <div class="app-page-header-content">
    <mat-icon class="app-page-header-icon">touch_app</mat-icon>
    <p class="app-page-header-text">HAT apps are integrated with your HAT data to give you great services.</p>
  </div>
</div>

<div class="app-list">
  <mat-card *ngFor="let app of hatApp$ | async">
    <a [routerLink]="app.application.info.name.toLowerCase()" class="app-link-wrapper">
      <mat-card-content>
        <img [src]="app.application.info.graphics.logo.normal" class="img img-responsive app-logo" height="60" width="60" />
        <div class="app-description">
          <h3 class="app-name">{{ app.application.info.name }}</h3>
          <div class="app-headline">{{ app.application.info.headline }}</div>
        </div>
        <div class="app-link-action">View app</div>
        <ng-container *ngIf="!app.setup || app.needsUpdating else appActivityIcons">
          <mat-icon class="app-status-icon">add_circle_outline</mat-icon>
        </ng-container>

        <ng-template #appActivityIcons>
          <mat-icon class="app-status-icon">{{ app.active ? 'check_circle' : 'report_problem' }}</mat-icon>
        </ng-template>
      </mat-card-content>
    </a>
  </mat-card>
</div>
